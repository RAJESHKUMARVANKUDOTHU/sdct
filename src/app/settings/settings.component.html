<div class="setting">
  <mat-card>
    <mat-card-title>
      Define Working Shifts
    </mat-card-title>
    <mat-card-subtitle>
      Enter From to To time for each shifts
    </mat-card-subtitle>
    <mat-card-content>
      <form [formGroup]="workingForm" (ngSubmit)="onSubmitWorkForm(workingForm.value)">
        <mat-form-field>
          <input matInput placeholder="Shift name" formControlName="shift"  required>
          <mat-error>
            Please provide a valid shift name
          </mat-error>
        </mat-form-field>
        <mat-form-field class="full-width-input">
          <input type='time' matInput placeholder="From time" formControlName="fromTime" required>
          <mat-icon matPrefix >schedule</mat-icon>
          <mat-error>
            Please provide a valid from time
          </mat-error>
        </mat-form-field>
        <mat-form-field class="full-width-input">
          <input  type='time' matInput  placeholder="To time" formControlName="toTime" required >
          <mat-icon matPrefix >schedule</mat-icon>
          <mat-error>
            Please provide a valid to time
          </mat-error>
        </mat-form-field><br>
        <button mat-raised-button [disabled]="!workingForm.valid" color="primary">Submit</button> &nbsp;&nbsp;&nbsp;
        <button type="button" mat-raised-button (click)="openDialog()" color="primary">Info</button>
      </form>
    </mat-card-content>
  </mat-card>






  <mat-card>
    <mat-card-title>
      Define Minimum Distance
    </mat-card-title>
    <mat-card-subtitle>
      Enter minimum distance for user in meter
    </mat-card-subtitle>
    <mat-card-content>
      <mat-slide-toggle color="primary" [checked]="statusCustomise" (change)="customise()">Customize</mat-slide-toggle>
      <br><br>
      <form [formGroup]="distanceForm" (ngSubmit)="onSubmitDistanceForm(distanceForm.value)">
        <mat-form-field>
          <mat-label>Select distance</mat-label>
          <mat-select formControlName="distance" (selectionChange)="changeDistance($event)" required>
            <mat-option value="1">
              1 meter
            </mat-option>
            <mat-option value="2">
              2 meter
            </mat-option>
            <mat-option value="3">
              3 meter
            </mat-option>
          </mat-select>
        </mat-form-field><br>
        <div *ngIf="statusCustomise">
          <mat-form-field>
            <input matInput placeholder="RSSI" formControlName="rssi"  required>
            <mat-error>
              Please provide a valid RSSI
            </mat-error>
          </mat-form-field>
        </div>
        <br><br>
        <button mat-raised-button [disabled]="!distanceForm.valid" color="primary">Submit</button>
      </form>
    </mat-card-content>
  </mat-card>





  <mat-card>
    <mat-card-title>
      Define max contact threshold
    </mat-card-title>
    <mat-card-subtitle>
      Enter contact threshold
    </mat-card-subtitle><br>
    <mat-card-content>
      <form [formGroup]="maxContactForm" (ngSubmit)="onSubmitmaxContactForm(maxContactForm.value)">
        <mat-form-field>
          <input type='number' min="0" matInput placeholder="Threshold" formControlName="threshold"  required>
          <mat-error>
            Please provide a valid threshold
          </mat-error>
        </mat-form-field>
        <br><br>
        <button mat-raised-button [disabled]="!maxContactForm.valid" color="primary">Submit</button>
      </form>
    </mat-card-content>
  </mat-card>



  <mat-card>
    <mat-card-title>
      Define transmission power
    </mat-card-title>
    <mat-card-subtitle>
      Enter tx power
    </mat-card-subtitle><br>
    <mat-card-content>
      <form [formGroup]="txPowerForm" (ngSubmit)="onSubmittxPowerForm(txPowerForm.value)">
        <mat-form-field>
          <mat-label>Tx Power</mat-label>
          <mat-select formControlName="txPower" required>
            <mat-option value="120">
              120 ft
            </mat-option>
            <mat-option value="100">
              100 ft
            </mat-option>
            <mat-option value="80">
              80 ft
            </mat-option>
            <mat-option value="60">
              60 ft
            </mat-option>
            <mat-option value="40">
              40 ft
            </mat-option>
            <mat-option value="30">
              30 ft
            </mat-option>
            <mat-option value="25">
              25 ft
            </mat-option>
            <mat-option value="20">
              20 ft
            </mat-option>
            <mat-option value="15">
              15 ft
            </mat-option>
            <mat-option value="10">
              10 ft
            </mat-option>
          </mat-select>
        </mat-form-field>
        <br><br>
        <button mat-raised-button [disabled]="!txPowerForm.valid" color="primary">Submit</button>
      </form><br>
    <div>
      <span class="flex warning">&nbsp;&nbsp;<mat-icon class="warn">warning</mat-icon>Critical Warning: Before changing this setting please contact SenseGiz team.</span>
    </div>

    </mat-card-content>
  </mat-card>


  <mat-card>
    <mat-card-title>
       Define Inactivity
    </mat-card-title>
    <mat-card-subtitle>
      Enter inactivity in minutes
    </mat-card-subtitle>
    <mat-slide-toggle color="primary" [checked]="inactivityStatusValue.value" (change)="inactivityChange($event)">{{inactivityStatusValue.status}}</mat-slide-toggle>
    <br><br>
    <mat-card-content>
      <form [formGroup]="inactivityForm" (ngSubmit)="onSubmitInactivityForm(inactivityForm.value)">
        <mat-form-field>
          <input type='number' min="0" max="120" matInput placeholder="Inactivity in minutes" formControlName="inactivity" required>
          <mat-error>
            Please provide a valid inactivity in minutes
          </mat-error>
        </mat-form-field>
        <br><br>
        <button mat-raised-button [disabled]="!inactivityForm.valid" color="primary">Submit</button>
      </form>
    </mat-card-content>
  </mat-card>



  <mat-card>
    <mat-card-title>
       Define Buffer
    </mat-card-title>
    <mat-card-subtitle>
      Enter buffer
    </mat-card-subtitle><br>
    <mat-card-content>
      <form [formGroup]="bufferForm" (ngSubmit)="onSubmitBufferForm(bufferForm.value)">
        <mat-form-field>
          <input type='number' min="0"  matInput placeholder="Buffer" formControlName="buffer"  required>
          <mat-error>
            Please provide a valid buffer
          </mat-error>
        </mat-form-field>
        <br><br>
        <button mat-raised-button [disabled]="!bufferForm.valid" color="primary">Submit</button>
      </form>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-title>
       Over crowding
    </mat-card-title>
    <mat-card-subtitle>
      Enter Coin name and Max limit
    </mat-card-subtitle><br>
    <mat-card-content>
     
      <form [formGroup]="overCrowedForm" (ngSubmit)="onSubmitoverCrowedForm(overCrowedForm.value)" >
        <mat-form-field  >
            <mat-label>Coin Name</mat-label>
            <mat-select  formControlName="coinSelect">
              <mat-option *ngFor="let coin of coinData" [value]="coin.coinId">{{coin.coinName}}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
          <input type='number' min="0"  matInput placeholder="Max Limit" formControlName="maxLimit"  required>
          <mat-error>
            Please provide a limit
          </mat-error>
        </mat-form-field>
        <br><br>
        <button mat-raised-button [disabled]="!overCrowedForm.valid"  color="primary">Submit</button>
      </form>
    </mat-card-content>
  </mat-card>

</div>
